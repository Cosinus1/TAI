<!-- client/angular/src/app/app.html -->
<app-topbar></app-topbar>

<div class="app-shell">
  <!-- container map : prend tout l'espace restant -->
  <main class="map-container">
    <app-map
      [odPairs]="odPairs"
      [selectedIndex]="selectedIndex"
      [selectedEntity]="selectedEntity"
      [datasetId]="currentDatasetId"
      [entityTypeFilter]="entityTypeFilter">
    </app-map>  
  </main>

  <aside id="sidebar">
    <app-sidebar
      [odPairs]="odPairs"
      [entities]="entities"
      (odChange)="setSelectedIndex($event)"
      (taxiChange)="setSelectedEntity($event)"
      (datasetChange)="onDatasetChange($event)"
      (filterChange)="onFilterChange($event)"
      (apply)="onApplyFilters()"
      (reset)="onResetFilters()">
    </app-sidebar>
  </aside>
</div>

<router-outlet/>